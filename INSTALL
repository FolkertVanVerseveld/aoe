BUILDING THE GAME

All code is spread across multiple directories. The game setup installer is
located in setup/, the original game in empires/. The game engine itself is
located in genie/ and tools in tools/ (as you can see, it is pretty
self-explanatory).

Note that setup/ and reverse_engineering/ are pretty outdated. genie/ and
empires/ are actively maintained.

The genie engine requires XenoTech's cross platform common library v1.0.1 or
better, which you can find at: https://github.com/XenoTech-Inc/libxtcommon

You can build the game using:

  make

Or if you prefer running it in parallel:

  make -j8

Where `-j8' means `use 8 cores'.

INSTALLING THE GAME

After inserting an original AoE CD-ROM, the game should automatically find all
the necessary files. You can also build an ISO image from the original CD-ROM.
The provided setup program is not necessary to run in order to play the game.

INSTALLATION RECIPIES

NOTE: Since libfreetype does not properly support the original fonts, the game
engine requires prerendered fonts. This has to be done either using wine or on a
real windows machine. See reverse_engineering/font.c and tools/font/font.c

The following fonts are needed:

fnt_default.png: Arial 13pt regular
fnt_button.png : Copperplate Gothic Light 16pt bold
fnt_large.png  : Copperplate Gothic Light 28pt bold

After prerendering them, you have to manually enter all data generated by
tools/font/font.c and store this information in genie/fnt_data.c. Yes, this
process is cumbersome, but we can't provide the fonts directly because they are
copyrighted by Microsoft, so you need to have the original game.

Xubuntu 18:

This project has been built primarly on Xubuntu 18 and Windows. The following
packages are needed:

  gcc make libssl-dev pkg-config libsdl2-dev libsdl2-image-dev libsdl2-mixer-dev libsdl2-ttf-dev libopenal-dev xtcommon

Windows:

Currently, empires.exe and most tools are known to compile and run successfully.
Both can be compiled either with a native MinGW toolchain or within cygwin with
its MinGW cross-compiler. Depending on your toolchain, you probably need to
specify custom environment variables to make everything correctly.

All dependencies can be downloaded from libsdl.org. You don't have to compile
these as long as you are using MinGW or Microsoft's Visual C++ Compiler (or any
other compiler that supports the provided binaries).

When running make with a cross compiler or MinGW, you also have to specify
CROSS_COMPILE=1 or CROSS_COMPILE=32 if you want to build a 32-bit executable.
